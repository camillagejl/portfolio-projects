(this["webpackJsonpuser-list"]=this["webpackJsonpuser-list"]||[]).push([[0],[,,function(e,t,a){e.exports=a.p+"static/media/sort_arrow.4be69749.svg"},,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),o=(a(11),a(1)),s=(a(12),a(3)),i=a(2),u=a.n(i);function m(){return r.a.createElement("div",{className:"header"},r.a.createElement("header",null,r.a.createElement("h1",null,"WORLD GAME USERS"),r.a.createElement("p",null,"Welcome to the user list for World Game."),r.a.createElement("p",null,"On this page, you can view all users, filter and sort your view, and delete users.")))}function d(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),m=i[0],d=i[1],E=Object(n.useState)([]),f=Object(o.a)(E,2),b=f[0],h=f[1];function p(){fetch("https://eexam-6f38.restdb.io/rest/website-users",{method:"GET",headers:{"Content-Type":"application/json; charset=uf-8","x-apikey":"5dde99ff4658275ac9dc1fce","cache-control":"no-cache"}}).then((function(e){return e.json()})).then((function(e){h(e),l(!1)}))}Object(n.useEffect)((function(){p()}),[]);var g,y=Object(n.useState)("userName"),v=Object(o.a)(y,2),w=v[0],j=v[1],S=Object(n.useState)("asc"),O=Object(o.a)(S,2),N=O[0],k=O[1],C=function(e){j(e),k("asc"===N?"desc":"asc")},A=Object(s.orderBy)(b,[w],[N]);"desc"===N&&(g={transform:"rotateX(180deg)"});var _=Object(n.useState)("All"),D=Object(o.a)(_,2),x=D[0],W=D[1],G=Object(n.useState)("All"),B=Object(o.a)(G,2),T=B[0],R=B[1],F=A;return"All"!==x&&(F=Object(s.filter)(F,["country",x])),"All"!==T&&(F=Object(s.filter)(F,["subscription",T])),r.a.createElement("div",{className:"list ".concat(a?"loading":"")},r.a.createElement("div",{className:"dropdowns"},r.a.createElement("label",null,"Filter by country:",r.a.createElement("select",{onChange:function(e){console.log("Changing Country",e.target.value),W(e.target.value)},name:"filterByCountry",className:"filter_by filter_country"},r.a.createElement("option",{value:"All"},"All"),r.a.createElement("option",{value:"Denmark"},"Denmark"),r.a.createElement("option",{value:"Germany"},"Germany"),r.a.createElement("option",{value:"Romania"},"Romania"),r.a.createElement("option",{value:"Sweden"},"Sweden"))),r.a.createElement("label",null,"Filter by email subscription:",r.a.createElement("select",{onChange:function(e){console.log("Changing emailSub",e.target.value),R(e.target.value)},name:"filterByEmailPrefs",className:"filter_by filter_email"},r.a.createElement("option",{value:"All"},"All"),r.a.createElement("option",{value:"Subscribed"},"\u2713 Subscribed"),r.a.createElement("option",{value:"Not Subscribed"},"\xd7 Not subscribed")))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return C("username")}},"Username","username"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("email")}},"Email","email"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("firstname")}},"First name","firstname"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("lastname")}},"Last name","lastname"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("dateofbirth")}},"Date of birth","dateofbirth"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("country")}},"Country","country"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{onClick:function(){return C("subscription")}},"Email subscription","subscription"===w&&r.a.createElement("img",{className:"sortArrow",style:g,src:u.a,alt:"Sorting arrow"})),r.a.createElement("th",{className:"delete_user_th"},"Delete user"))),r.a.createElement("tbody",null,F.map((function(e){return r.a.createElement("tr",{key:e._id,className:m===e._id?"deleting":""},r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.firstname),r.a.createElement("td",null,e.lastname),r.a.createElement("td",null,e.dateofbirth.slice(0,10)),r.a.createElement("td",null,e.country),r.a.createElement("td",null,e.subscription),m===e._id?r.a.createElement("td",{className:"delete_user"},"\xd7 Deleting"):r.a.createElement("td",{className:"delete_user",onClick:function(){return t=e._id,l(!0),d(t),void fetch("https://eexam-6f38.restdb.io/rest/website-users/"+t,{method:"DELETE",headers:{"Content-Type":"application/json","x-apikey":"5dde99ff4658275ac9dc1fce","cache-control":"no-cache"}}).then((function(e){return e.json()})).then((function(){console.log("Deleted!"),p()}));var t}},"\xd7 Delete"))})))))}function E(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1];return console.log(a),r.a.createElement("div",{className:"".concat(a?"mobile_popup":"hidden")},r.a.createElement("strong",null,"Welcome to the World Games user list!"),r.a.createElement("p",null,"This user list is created for desktop. Please use a desktop for the best experience."),r.a.createElement("p",null,"If you wish continue on your current device, we recommend switching to landscape mode."),r.a.createElement("button",{onClick:function(){return l(!1)}},"Continue to the list"))}var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(d,{direction:"asc"}),r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.2c763781.chunk.js.map